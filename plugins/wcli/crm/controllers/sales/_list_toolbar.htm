<div data-control="toolbar">
    <?php if ($this->user->hasAccess('nobody')): ?>
    <a href="<?= Backend::url('wcli/crm/sales/create') ?>"
       class="btn btn-primary oc-icon-plus">
        <?= e(trans('wcli.crm::sale.create')) ?>
    </a>
    <?php endif ?>
    <?php if ($this->user->hasAccess('nobody')): ?>
    <button class="btn btn-danger oc-icon-trash-o"
            disabled="disabled"
            onclick="$(this).data('request-data', { checked: $('.control-list').listWidget('getChecked') })"
            data-request="onDelete"
            data-request-confirm="Are you sure you want to delete the selected Sales?"
            data-trigger-action="enable"
            data-trigger=".control-list input[type=checkbox]"
            data-trigger-condition="checked"
            data-request-success="$(this).prop('disabled', 'disabled')"
            data-stripe-load-indicator>
        <?= e(trans('waka.utils::lang.global.delete_selected')) ?>
    </button>
    <?php endif ?>
    <?= $this->fireViewEvent('backend.top.index') ?>
    <button class="btn btn-danger oc-icon-bug"
            disabled="disabled"
            onclick="$(this).data('request-data', { checked: $('.control-list').listWidget('getChecked') })"
            data-request="onError"
            data-request-confirm="Voulez vous transmettre les ID de ventes en erreurs ? "
            data-trigger-action="enable"
            data-trigger=".control-list input[type=checkbox]"
            data-trigger-condition="checked"
            data-request-success="$(this).prop('disabled', 'disabled')"
            data-stripe-load-indicator>
        Signaler des erreurs
    </button>
</div>